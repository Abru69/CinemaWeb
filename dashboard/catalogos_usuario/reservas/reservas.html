<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mis Reservas | CinemaWeb</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">Cinema<span class="gold-accent">Web</span></div>
            <div class="nav-links">
                <a href="../../index-cliente.php">Inicio</a>
                <a href="../../logout.php">Cerrar Sesión</a>
            </div>
        </nav>
    </header>

    <main>
        <div class="mis-reservas">
            <h2>Mis Reservas</h2>
            <table id="tablaReservas">
                <thead>
                    <tr>
                        <th>Película</th>
                        <th>Sala</th>
                        <th>Horario</th>
                        <th>Boletos</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se llenarán las reservas con JS -->
                </tbody>
            </table>
        </div>
    </main>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('get_reservas_usuario.php')
            .then(response => response.json())
            .then(reservas => {
                const tbody = document.querySelector('#tablaReservas tbody');
                tbody.innerHTML = '';
                if (reservas.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="4">No tienes reservas.</td></tr>';
                } else {
                    reservas.forEach(r => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${r.pelicula}</td>
                            <td>${r.sala}</td>
                            <td>${r.horario}</td>
                            <td>${r.boletos}</td>
                        `;
                        tbody.appendChild(tr);
                    });
                }
            })
            .catch(error => {
                console.error('Error al cargar reservas:', error);
            });
    });
    </script>
</body>
</html>
